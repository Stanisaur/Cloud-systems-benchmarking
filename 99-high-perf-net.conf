# Maximum OS send buffer size in bytes.
net.core.wmem_max = 104857600
# Default OS send buffer size in bytes.
net.core.wmem_default = 104857600
# Maximum OS receive buffer size in bytes.
net.core.rmem_max = 104857600
# Default OS receive buffer size in bytes. Increased for high-throughput networking.
net.core.rmem_default = 104857600
# Maximum number of packets queued to the kernel when a network interface receives a flood of packets.
# Increased to prevent drops under heavy load from many containers.
net.core.netdev_max_backlog = 250000
# Maximum number of established connections waiting to be accepted by the application.
# Increased to support thousands of concurrent connection attempts from/to containers.
net.core.somaxconn = 65535
# Enables IP forwarding between network interfaces, essential for a host acting as a router/gateway
# for containers and for inter-container networking that spans network namespaces.
net.ipv4.ip_forward=1
# Maximum number of entries in the SYN backlog (for new, half-open TCP connections).
# Increased to handle high rates of new connections from thousands of containers.
net.ipv4.tcp_max_syn_backlog = 65535
# Allows reusing sockets in the TIME-WAIT state for new connections.
# Speeds up connection cycling and is crucial for high-volume servers/gateways (like a container host).
net.ipv4.tcp_tw_reuse=1
# Minimum number of ARP entries kept in the cache before garbage collection starts.
# Increased to better handle the large number of IP/MAC mappings from thousands of containers.
net.ipv4.neigh.default.gc_thresh1 = 1024
# Soft maximum number of ARP entries.
net.ipv4.neigh.default.gc_thresh2 = 2048
# Hard maximum number of ARP entries.
net.ipv4.neigh.default.gc_thresh3 = 4096